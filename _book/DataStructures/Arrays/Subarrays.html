
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Subarrays Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Subsets.html" />
    
    
    <link rel="prev" href="TwoPointers.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../GeneralInstructions.html">
            
                <a href="../../GeneralInstructions.html">
            
                    
                    General Instructions
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../Algorithms/">
            
                <a href="../../Algorithms/">
            
                    
                    ðŸ“¢ TO DO
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Algorithms</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../Algorithms/SortingAndHashing.html">
            
                <a href="../../Algorithms/SortingAndHashing.html">
            
                    
                    Sorting and Hashing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../Algorithms/BFS.html">
            
                <a href="../../Algorithms/BFS.html">
            
                    
                    BFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../Algorithms/Backtracking.html">
            
                <a href="../../Algorithms/Backtracking.html">
            
                    
                    Backtracking and Complete Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../Algorithms/BinarySearch.html">
            
                <a href="../../Algorithms/BinarySearch.html">
            
                    
                    Binary Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../../Algorithms/Games.html">
            
                <a href="../../Algorithms/Games.html">
            
                    
                    Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../../Algorithms/Bitwise.html">
            
                <a href="../../Algorithms/Bitwise.html">
            
                    
                    Bitwise
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../../Algorithms/DP/">
            
                <a href="../../Algorithms/DP/">
            
                    
                    DP
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.1" data-path="../../Algorithms/DP/Knapsack.html">
            
                <a href="../../Algorithms/DP/Knapsack.html">
            
                    
                    Knapsack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.2" data-path="../../Algorithms/DP/NumSol.html">
            
                <a href="../../Algorithms/DP/NumSol.html">
            
                    
                    Number of Solutions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../../Algorithms/UncommonAlgos.html">
            
                <a href="../../Algorithms/UncommonAlgos.html">
            
                    
                    Uncommon Algos
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Data Structures</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../StacksAndQueues/">
            
                <a href="../StacksAndQueues/">
            
                    
                    Stacks and Queues
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="./">
            
                <a href="./">
            
                    
                    Arrays
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="TwoPointers.html">
            
                <a href="TwoPointers.html">
            
                    
                    Two Pointers
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.2.2" data-path="Subarrays.html">
            
                <a href="Subarrays.html">
            
                    
                    Subarrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="Subsets.html">
            
                <a href="Subsets.html">
            
                    
                    Subsets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="Triplets.html">
            
                <a href="Triplets.html">
            
                    
                    Triplets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="StackTricks.html">
            
                <a href="StackTricks.html">
            
                    
                    Stack Tricks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.6" data-path="MultipleArrays.html">
            
                <a href="MultipleArrays.html">
            
                    
                    Multiple Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.7" data-path="LeftAndRight.html">
            
                <a href="LeftAndRight.html">
            
                    
                    Left and right
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../Strings/">
            
                <a href="../Strings/">
            
                    
                    Strings
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../Strings/StandardQuestions.html">
            
                <a href="../Strings/StandardQuestions.html">
            
                    
                    Standard Questions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../LinkedLists/">
            
                <a href="../LinkedLists/">
            
                    
                    Linked Lists
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../Trees/">
            
                <a href="../Trees/">
            
                    
                    Trees
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="../Trees/Inorder.html">
            
                <a href="../Trees/Inorder.html">
            
                    
                    Inorder Traversal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.2" data-path="../Trees/Preorder.html">
            
                <a href="../Trees/Preorder.html">
            
                    
                    Preorder Traversal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.3" data-path="../Trees/Postorder.html">
            
                <a href="../Trees/Postorder.html">
            
                    
                    Postorder Traversal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.4" data-path="../Trees/LevelWise.html">
            
                <a href="../Trees/LevelWise.html">
            
                    
                    Level-wise Traversal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.5" data-path="../Trees/TreeToGraph.html">
            
                <a href="../Trees/TreeToGraph.html">
            
                    
                    Tree to Graph
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.6" data-path="../Trees/TwoTrees.html">
            
                <a href="../Trees/TwoTrees.html">
            
                    
                    Two Trees
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.7" data-path="../Trees/ConstructTree.html">
            
                <a href="../Trees/ConstructTree.html">
            
                    
                    Construct Trees
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../Graphs/">
            
                <a href="../Graphs/">
            
                    
                    Graphs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.1" data-path="../Graphs/Coloring.html">
            
                <a href="../Graphs/Coloring.html">
            
                    
                    Coloring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.2" data-path="../Graphs/GraphBFS.html">
            
                <a href="../Graphs/GraphBFS.html">
            
                    
                    Graph BFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.3" data-path="../Graphs/GraphDFS.html">
            
                <a href="../Graphs/GraphDFS.html">
            
                    
                    Graph DFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.4" data-path="../Graphs/TopologySort.html">
            
                <a href="../Graphs/TopologySort.html">
            
                    
                    Topology Sort
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../Heap.html">
            
                <a href="../Heap.html">
            
                    
                    Heap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="../Grid.html">
            
                <a href="../Grid.html">
            
                    
                    Grid
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Miscellaneous</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../Miscellaneous/Palindrome.html">
            
                <a href="../../Miscellaneous/Palindrome.html">
            
                    
                    Palindrome
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../Miscellaneous/Stocks.html">
            
                <a href="../../Miscellaneous/Stocks.html">
            
                    
                    Stocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../Miscellaneous/Intervals.html">
            
                <a href="../../Miscellaneous/Intervals.html">
            
                    
                    Intervals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../../Miscellaneous/Parenthesis.html">
            
                <a href="../../Miscellaneous/Parenthesis.html">
            
                    
                    Parenthesis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../../Miscellaneous/AlienDictionary.html">
            
                <a href="../../Miscellaneous/AlienDictionary.html">
            
                    
                    Alien Dictionary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../../Miscellaneous/InterestingMiscellaneous.html">
            
                <a href="../../Miscellaneous/InterestingMiscellaneous.html">
            
                    
                    Interesting Miscellaneous
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Tips</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../Tricks/">
            
                <a href="../../Tricks/">
            
                    
                    Tricks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../../OOP/designs.html">
            
                <a href="../../OOP/designs.html">
            
                    
                    OOP designs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../../BehavioralQuestions.html">
            
                <a href="../../BehavioralQuestions.html">
            
                    
                    Behavioral Questions
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Subarrays</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="subarrays">Subarrays</h3>
<h5 id="optimization-checks-">Optimization checks: <br></h5>
<ol>
<li>Two pointers </li>
<li>Sliding window with running values </li>
<li>Pre and Post arrays <br>
There can be complex problems outside these as well</li>
</ol>
<h5 id="find-subarray-size-k">Find subarray size K:</h5>
<p><a href="https://leetcode.com/problems/subarray-sum-equals-k/" target="_blank">https://leetcode.com/problems/subarray-sum-equals-k/</a> <br>
<code>k = current - prev</code>; so <code>prev = current - k</code> <br>
Add all frequencies of prev to the total</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">subarraySum</span><span class="hljs-params">(self, nums: List[int], k: int)</span> -&gt; int:</span>
        cont_sum, subarrays = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
        P = {cont_sum: <span class="hljs-number">1</span>}

        <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:
            <span class="hljs-comment"># calculate the prefix sum</span>
            cont_sum += num

            <span class="hljs-comment"># cont_sum - k = P[_x]</span>
            subarrays += (P.get(cont_sum - k, <span class="hljs-number">0</span>))

            <span class="hljs-comment"># update the sum store</span>
            P[cont_sum] = P.get(cont_sum, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>

        <span class="hljs-keyword">return</span> subarrays
</code></pre>
<p>Requires all subarrays of all sizes and find all where a constraint is matched: <br>
<a href="https://www.geeksforgeeks.org/number-subarrays-product-less-k/" target="_blank">https://www.geeksforgeeks.org/number-subarrays-product-less-k/</a></p>
<p>Sliding window with two pointers <br>
Left move: if product is more than the constraint <br>
Right move: everytime unless the product is more than the constraint </p>
<p>Catch: Each addition of the element produces <code>(end_index - (start_index - 1))</code> more subarrays <br>
Catch: Which implies -- subarray of size d produces <code>d * (d + 1)/2</code> different subarrays</p>
<p><a href="https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero/" target="_blank">https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero/</a> <br>
Great question, instead of looking at the ends, find the max subarray with sum <code>total - x</code> <br>
Corner case would be when <code>total == x</code>. Use prefix array to find that</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">minOperations</span><span class="hljs-params">(self, nums: List[int], x: int)</span> -&gt; int:</span>
        total = sum(nums)
        target = total - x
        sums = {<span class="hljs-number">0</span>: <span class="hljs-number">-1</span>}
        current, length = <span class="hljs-number">0</span>, float(<span class="hljs-string">&apos;-inf&apos;</span>)

        <span class="hljs-keyword">if</span> target == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> len(nums)

        <span class="hljs-keyword">for</span> i, n <span class="hljs-keyword">in</span> enumerate(nums):
            current += n

            <span class="hljs-keyword">if</span> (current - target) <span class="hljs-keyword">in</span> sums:
                length = max(length, i - sums[current - target])

            <span class="hljs-keyword">if</span> current <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> sums:
                sums[current] = i

        <span class="hljs-keyword">return</span> (len(nums)-length) <span class="hljs-keyword">if</span> length != float(<span class="hljs-string">&apos;-inf&apos;</span>) <span class="hljs-keyword">else</span> <span class="hljs-number">-1</span>
</code></pre>
<p><a href="https://www.geeksforgeeks.org/maximum-subarray-size-subarrays-size-sum-less-k/" target="_blank">https://www.geeksforgeeks.org/maximum-subarray-size-subarrays-size-sum-less-k/</a></p>
<p>Prefix array to store constraint related data (sorted) <br>
Binary search + two pointers to find ALL subarrays of that size satisfying the constraint</p>
<p><a href="https://www.geeksforgeeks.org/number-of-subarrays-with-odd-sum/" target="_blank">https://www.geeksforgeeks.org/number-of-subarrays-with-odd-sum/</a></p>
<p>Prefix array but instead of sum, store <code>sum modulo 2</code> <br>
<code>final_answer = prefix_arr[0] * prefix_arr[1]</code></p>
<h5 id="operation-on-all-of-subarrays">Operation on all of subarrays:</h5>
<p><a href="https://www.geeksforgeeks.org/xor-subarray-xors/" target="_blank">https://www.geeksforgeeks.org/xor-subarray-xors/</a></p>
<p>Catch: ith element frequency in all subarrays: <code>(i + 1) * (n - i)</code> <br>
Desired quantity at the end of the whole domain traversal </p>
<p><a href="https://leetcode.com/problems/maximum-subarray/" target="_blank">https://leetcode.com/problems/maximum-subarray/</a></p>
<p>Keep current value running and max/min: <br></p>
<ul>
<li>Including the element <br></li>
<li>Excluding the element: basically new subsequence start <br></li>
</ul>
<p>Looks like DP question but we don&#x2019;t have to refer older values as we are dealing subarrays, not subsequences. Answer till  previous is stored in the comparison step of current and absolute max/min.</p>
<p><a href="https://www.geeksforgeeks.org/maximum-product-subarray-set-3/" target="_blank">https://www.geeksforgeeks.org/maximum-product-subarray-set-3/</a></p>
<p>maxVal and minVal at each value during iteration. If negative, swap them before multi, other things similar to maximum subarray sum</p>
<p>Pre and post array
<a href="https://www.geeksforgeeks.org/maximum-length-of-strictly-increasing-sub-array-after-removing-at-most-one-element/" target="_blank">https://www.geeksforgeeks.org/maximum-length-of-strictly-increasing-sub-array-after-removing-at-most-one-element/</a></p>
<h4 id="complex-subarray-problems">complex subarray problems</h4>
<p><a href="https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" target="_blank">https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/</a> <br>
<a href="https://leetcode.com/problems/longest-substring-with-at-least-k-repeating-characters/discuss/87768/4-lines-Python" target="_blank">https://leetcode.com/problems/longest-substring-with-at-least-k-repeating-characters/discuss/87768/4-lines-Python</a> <br>
<a href="https://leetcode.com/problems/maximum-number-of-non-overlapping-subarrays-with-sum-equals-target/" target="_blank">https://leetcode.com/problems/maximum-number-of-non-overlapping-subarrays-with-sum-equals-target/</a></p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maxNonOverlapping</span><span class="hljs-params">(self, nums: List[int], target: int)</span> -&gt; int:</span>
        prefix = [<span class="hljs-number">0</span>]
        sum_pos = {<span class="hljs-number">0</span>: <span class="hljs-number">0</span>}
        intervals = <span class="hljs-number">0</span>

        <span class="hljs-keyword">for</span> i, n <span class="hljs-keyword">in</span> enumerate(nums):
            prefix.append(prefix[<span class="hljs-number">-1</span>] + n)

        <span class="hljs-keyword">for</span> i, p <span class="hljs-keyword">in</span> enumerate(prefix):
            <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span>: <span class="hljs-keyword">continue</span>

            <span class="hljs-keyword">if</span> p - target <span class="hljs-keyword">in</span> sum_pos:
                intervals += <span class="hljs-number">1</span>
                sum_pos = {}

            sum_pos[p] = i

        <span class="hljs-keyword">return</span> intervals
</code></pre>
<h3 id="sliding-window">Sliding Window</h3>
<p>Cases:</p>
<ol>
<li>Expand end pointer and update the start one according to the situation</li>
<li>Expand until the condition is met and then contract with the start one until the condition holds</li>
</ol>
<p><a href="https://leetcode.com/problems/longest-substring-without-repeating-characters/" target="_blank">https://leetcode.com/problems/longest-substring-without-repeating-characters/</a></p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lengthOfLongestSubstring</span><span class="hljs-params">(self, s: str)</span> -&gt; int:</span>
        <span class="hljs-comment"># extend as much we can, if we encounter a letter that falls inside the current</span>
        <span class="hljs-comment"># window, &gt;= start, just update the start to start+1 otherwise just expand.</span>
        <span class="hljs-comment"># Update last seen with each iteration.</span>
        <span class="hljs-comment"># The window spans fron start to end, both inclusive</span>
        last_seen = {}
        n = len(s)
        start = end = <span class="hljs-number">0</span>

        max_len = <span class="hljs-number">0</span>
        <span class="hljs-keyword">while</span> end &lt; n:
            <span class="hljs-keyword">if</span> last_seen.get(s[end], <span class="hljs-number">-1</span>) &lt; start:
                <span class="hljs-comment"># outside the window, no issues with expanding</span>
                max_len = max(max_len, end - start + <span class="hljs-number">1</span>)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># inside, update start</span>
                start = last_seen[s[end]] + <span class="hljs-number">1</span>

            last_seen[s[end]] = end
            end += <span class="hljs-number">1</span>

        <span class="hljs-keyword">return</span> max_len
</code></pre>
<p><a href="https://leetcode.com/problems/minimum-size-subarray-sum/" target="_blank">https://leetcode.com/problems/minimum-size-subarray-sum/</a> <br>
Classic case 2 question. Expand until we meet the condition and then contract with start pointer forwarding.</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">minSubArrayLen</span><span class="hljs-params">(self, target: int, nums: List[int])</span> -&gt; int:</span>
        _sum, n = <span class="hljs-number">0</span>, len(nums)
        start = end = <span class="hljs-number">0</span>

        smallest_len = float(<span class="hljs-string">&apos;inf&apos;</span>)

        <span class="hljs-keyword">while</span> end &lt; n:
            _sum += nums[end]

            <span class="hljs-keyword">if</span> _sum &gt;= target:
                <span class="hljs-keyword">while</span> _sum &gt;= target <span class="hljs-keyword">and</span> start &lt;= end:
                    _sum -= nums[start]
                    smallest_len = min(smallest_len, end - start + <span class="hljs-number">1</span>)
                    start += <span class="hljs-number">1</span>

            end += <span class="hljs-number">1</span>

        <span class="hljs-keyword">return</span> smallest_len <span class="hljs-keyword">if</span> smallest_len != float(<span class="hljs-string">&apos;inf&apos;</span>) <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>
</code></pre>
<p><a href="https://leetcode.com/problems/maximum-size-subarray-sum-equals-k/" target="_blank">https://leetcode.com/problems/maximum-size-subarray-sum-equals-k/</a> <br>
We just store the first occurance of the sum so that we always maximize the length.</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maxSubArrayLen</span><span class="hljs-params">(self, nums: List[int], k: int)</span> -&gt; int:</span>
        current_sum, max_len = <span class="hljs-number">0</span>, float(<span class="hljs-string">&apos;-inf&apos;</span>)
        sum_store = {<span class="hljs-number">0</span>: <span class="hljs-number">-1</span>}

        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> enumerate(nums):
            current_sum += num

            <span class="hljs-comment"># current_sum - prev_sum = k =&gt; current_sum - k = prev_sum</span>
            prev_sum = (current_sum - k)
            <span class="hljs-keyword">if</span> prev_sum <span class="hljs-keyword">in</span> sum_store:
                max_len = max(max_len, i-sum_store[prev_sum])

            <span class="hljs-comment"># catch</span>
            <span class="hljs-keyword">if</span> current_sum <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> sum_store:
                sum_store[current_sum] = i

        <span class="hljs-keyword">return</span> max_len <span class="hljs-keyword">if</span> max_len != float(<span class="hljs-string">&apos;-inf&apos;</span>) <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>
</code></pre>
<p><a href="https://leetcode.com/problems/minimum-window-substring/" target="_blank">https://leetcode.com/problems/minimum-window-substring/</a> <br>
We know the target dict. We can easily maintain current window with sliding window. <br>
For satisfy criteria, we need to know how many of the characters in target are in enough quantity. <br>
If we hit the target count for current character(not greater, that comes by default), we found a possible solution. <br>
Now contract the window (<code>start += 1</code>) until <code>found == required</code> character count</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">minWindow</span><span class="hljs-params">(self, s: str, t: str)</span> -&gt; str:</span>
        <span class="hljs-string">&quot;&quot;&quot;
        Algorithm:
        Expand the sliding window (with end += 1 ). In every loop, try to contract it 
        until it keeps on satisfying *(if it satifies)* the criteria (with start += 1). 
        Keep target and current dicts to update `found` variable in O(1).

        Optimizations:
        `found` variable to simulate O(1) time isConstraintSatified().
        Contract as long as this condition is satisfied.
        &quot;&quot;&quot;</span>

        start = end = <span class="hljs-number">0</span>
        target, current = {}, {}

        result, START, END = [float(<span class="hljs-string">&apos;-inf&apos;</span>), float(<span class="hljs-string">&apos;inf&apos;</span>)], <span class="hljs-number">0</span>, <span class="hljs-number">1</span>

        <span class="hljs-comment"># target set for constraint</span>
        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> t:
            target[c] = target.get(c, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span> 

        found, required = <span class="hljs-number">0</span>, len(target)

        <span class="hljs-keyword">while</span> end &lt; len(s):
            char = s[end]

            <span class="hljs-comment"># expand on the right side</span>
            <span class="hljs-keyword">if</span> char <span class="hljs-keyword">in</span> target:
                current[char] = current.get(char, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
                <span class="hljs-keyword">if</span> current[char] == target[char]:
                    found += <span class="hljs-number">1</span>

            <span class="hljs-comment"># contract until the condition is satisfied</span>
            <span class="hljs-keyword">while</span> found == required:
                <span class="hljs-comment"># update result</span>
                <span class="hljs-keyword">if</span> (result[END] - result[START] + <span class="hljs-number">1</span>) &gt; (end - start + <span class="hljs-number">1</span>):
                    result[START] = start
                    result[END] = end

                char = s[start]

                <span class="hljs-keyword">if</span> char <span class="hljs-keyword">in</span> current:
                    current[char] -= <span class="hljs-number">1</span>
                    <span class="hljs-keyword">if</span> current[char] &lt; target[char]:
                        found -= <span class="hljs-number">1</span>

                start += <span class="hljs-number">1</span>

            end += <span class="hljs-number">1</span>

        <span class="hljs-keyword">return</span> s[result[START]: result[END]+<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> result[END] != float(<span class="hljs-string">&apos;inf&apos;</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span>
</code></pre>
<p><a href="https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/" target="_blank">https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/</a> <br></p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lengthOfLongestSubstringKDistinct</span><span class="hljs-params">(self, s: str, k: int)</span> -&gt; int:</span>
        <span class="hljs-string">&quot;&quot;&quot;
        Algo:
        Expand the window on the right side i.e. end. In each loop, run another loop to satisfy the constraint.
        We have contract on the start side, contract until the constraint is satisfied over the character store
        i.e. char_store

        Maintain current length and use that to update max_len.
        &quot;&quot;&quot;</span>
        start, end, n = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, len(s)
        chars, longest = {}, <span class="hljs-number">0</span>

        <span class="hljs-keyword">while</span> end &lt; n:
            char = s[end]
            chars[char] = chars.get(char, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>

            <span class="hljs-keyword">while</span> len(chars) &gt; k:
                start_char = s[start]
                chars[start_char] -= <span class="hljs-number">1</span>

                <span class="hljs-keyword">if</span> chars[start_char] == <span class="hljs-number">0</span>:
                    <span class="hljs-keyword">del</span> chars[start_char]

                start += <span class="hljs-number">1</span>

            longest = max(longest, end-start+<span class="hljs-number">1</span>)
            end += <span class="hljs-number">1</span>

        <span class="hljs-keyword">return</span> longest
</code></pre>
<p><a href="https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters/" target="_blank">https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters/</a> <br>
<code>k == 2</code></p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lengthOfLongestSubstringTwoDistinct</span><span class="hljs-params">(self, s: str)</span> -&gt; int:</span>
        start, end, n = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, len(s)
        chars, longest = {}, <span class="hljs-number">0</span>

        <span class="hljs-keyword">while</span> end &lt; n:
            char = s[end]
            chars[char] = chars.get(char, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>

            <span class="hljs-keyword">while</span> len(chars) &gt; <span class="hljs-number">2</span>:
                start_char = s[start]
                chars[start_char] -= <span class="hljs-number">1</span>

                <span class="hljs-keyword">if</span> chars[start_char] == <span class="hljs-number">0</span>:
                    <span class="hljs-keyword">del</span> chars[start_char]

                start += <span class="hljs-number">1</span>

            longest = max(longest, end-start+<span class="hljs-number">1</span>)
            end += <span class="hljs-number">1</span>

        <span class="hljs-keyword">return</span> longest
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="TwoPointers.html" class="navigation navigation-prev " aria-label="Previous page: Two Pointers">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Subsets.html" class="navigation navigation-next " aria-label="Next page: Subsets">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Subarrays","level":"4.2.2","depth":2,"next":{"title":"Subsets","level":"4.2.3","depth":2,"path":"DataStructures/Arrays/Subsets.md","ref":"DataStructures/Arrays/Subsets.md","articles":[]},"previous":{"title":"Two Pointers","level":"4.2.1","depth":2,"path":"DataStructures/Arrays/TwoPointers.md","ref":"DataStructures/Arrays/TwoPointers.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["collapsible-menu","livereload"],"pluginsConfig":{"collapsible-menu":{},"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"DataStructures/Arrays/Subarrays.md","mtime":"2021-07-19T17:21:26.582Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-26T01:45:14.200Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

